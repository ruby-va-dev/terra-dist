console.log(1),console.log(1),console.log(1),console.log(1),console.log(1),console.log(2);let addClassByHover=(e,o,i=300,c)=>{e=document.querySelectorAll(e);let r=null,a=null;e.forEach(t=>{let s=t.querySelector(o);t.addEventListener("mouseenter",()=>{var e;r&&(clearTimeout(r),r=null),a&&a!==t&&((e=a.querySelector(o))&&e.classList.remove("active"),c(),a.classList.remove("active")),a=t,s&&s.classList.add("active"),t.classList.add("active")}),t.addEventListener("mouseleave",()=>{r=setTimeout(()=>{s&&s.classList.remove("active"),c(),t.classList.remove("active"),a===t&&(a=null)},i)})})};document.addEventListener("DOMContentLoaded",()=>{console.log("DOM ready");let o=null;function t(e){var t,s=e.getAttribute("data-r-tooltip-target"),s=document.getElementById(s);s&&(t=e.getBoundingClientRect(),console.log(t),s===o?i():(o&&i(),c(s,t),s.classList.add("active"),((e,s)=>{const o=t=>{if(![...e].some(e=>e.contains(t.target))){s();document.removeEventListener("mousedown",o)}};document.addEventListener("mousedown",o)})([o=s,e],()=>{i()})))}function i(){o&&(o.classList.remove("active"),o=null)}function c(e,t){e.style.right=document.body.clientWidth-t.right+"px",e.style.top=t.bottom+"px"}let r=(e,s)=>{document.addEventListener("click",t=>{[...e].some(e=>e.contains(t.target))||s()})};function a(s,o){let i;return function(...e){let t=this;clearTimeout(i),i=setTimeout(()=>s.apply(t,e),o)}}document.querySelectorAll(".js-tooltip-activator").forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),t(e.target)})}),window.addEventListener("resize",a(()=>{var e;o&&(e=document.querySelector(`[data-r-tooltip-target="${o.id}"]`))&&(e=e.getBoundingClientRect(),c(o,e))},200)),addClassByHover(".header__menu-item",".header__submenu",200,()=>{i()});new Swiper(".js-swiper",{slidesPerView:"auto",spaceBetween:6,navigation:{nextEl:".common-slider__btn--next",prevEl:".common-slider__btn--prev"}}),new Swiper(".js-hero-swiper",{slidesPerView:1,spaceBetween:10,breakpoints:{200:{spaceBetween:0},992:{spaceBetween:10}}}),new Swiper(".js-projects-swiper",{slidesPerView:3,spaceBetween:12,autoHeight:!0,navigation:{nextEl:".projects-block__btn--next",prevEl:".projects-block__btn--prev"},breakpoints:{200:{slidesPerView:"auto",freeMode:!0},992:{slidesPerView:3}}}),new Swiper(".js-news-swiper",{slidesPerView:4,spaceBetween:12,breakpoints:{200:{slidesPerView:1,spaceBetween:12,autoHeight:!0},568:{slidesPerView:2},992:{slidesPerView:3},1200:{slidesPerView:4}}});let l=new Swiper(".js-product-thumbs",{slidesPerView:"auto",spaceBetween:12,watchSlidesProgress:!0});(()=>{var i=document.querySelector(".r-product-slider");if(i){let e=i.querySelector(".single-product__info"),t=i.querySelector(".single-product__badge"),s=()=>{t&&t.classList.remove("active"),e&&e.classList.remove("active")},o=()=>{t&&t.classList.add("active"),e&&e.classList.add("active")};new Swiper(".js-product-slider",{slidesPerView:1,spaceBetween:30,thumbs:{swiper:l},on:{init:e=>{(e.slides[e.activeIndex].classList.contains(".r-video-slide")?s:o)()},slideChange:e=>{e=e.slides[e.activeIndex];console.log(e),(e.classList.contains("r-video-slide")?s:o)()}}})}})();document.querySelectorAll(".dropdown-menu").forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation()})}),new Swiper(".js-important-swiper",{slidesPerView:4,spaceBetween:12,navigation:{nextEl:".important-block__btn--right",prevEl:".important-block__btn--left"},breakpoints:{200:{slidesPerView:1,spaceBetween:12,autoHeight:!0},500:{slidesPerView:2},768:{slidesPerView:3},992:{slidesPerView:4}}}),new Swiper(".js-slider-categories",{slidesPerView:"auto",spaceBetween:8,freeMode:!0});document.querySelectorAll(".js-choice").forEach(e=>{new Choices(e,{searchEnabled:!1,itemSelectText:!1})});{var n=document.querySelector(".header__burger-btn"),d=document.querySelector(".header__close-btn");let e=document.querySelector(".header__mobile-wrapper");n&&d&&e&&(n.addEventListener("click",()=>{e.classList.add("active")}),d.addEventListener("click",()=>{e.classList.remove("active")})),r([e,n],()=>{e.classList.remove("active")})}document.querySelectorAll(".js-r-dropcustom").forEach(e=>{var t=e.dataset.rTarget;let s=document.querySelector("#"+t);e.addEventListener("click",()=>{s.classList.toggle("active")}),r([s,e],()=>{s.classList.remove("active")})}),(()=>{let s=document.querySelectorAll(".home-block"),o=document.querySelectorAll(".home__view-image"),i=document.querySelector(".home__grid");s.forEach((e,t)=>{r([e],()=>{e.classList.remove("active"),o[t].classList.remove("active"),Array.from(s).some(e=>e.classList.contains("active"))||i.classList.remove("active")}),e.addEventListener("click",()=>{s.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),o[t].classList.add("active"),i.classList.add("active")})})})(),(()=>{let s=document.querySelectorAll(".header__menu-item"),o=document.querySelectorAll(".header__submenu");s.forEach((e,t)=>{e.addEventListener("click",()=>{s.forEach(e=>e.classList.remove("mobile-active")),o.forEach(e=>e.classList.remove("mobile-active")),e.classList.add("mobile-active"),o[t].classList.add("mobile-active")})})})();function e(e,{direction:i="up",threshold:c=50,onSwipe:r}={}){let a=document.querySelector(e);if(a){let t=0,s=0,o=!1;a.addEventListener("touchstart",e=>{t=e.touches[0].clientY,s=t,o=!1}),a.addEventListener("touchmove",e=>{s=e.touches[0].clientY,o=!0}),a.addEventListener("touchend",()=>{var e;o?(e=t-s,("up"===i&&c<e||"down"===i&&e<-c)&&r?.(a)):console.log("Клик без движения — свайп не выполняется.")})}}d=".js-modal-activator",document.querySelectorAll(d).forEach(e=>{console.log(e.dataset.rModal);let t=document.querySelector(e.dataset.rModal);t.querySelector(".js-close").addEventListener("click",()=>{t.classList.remove("active")}),e.addEventListener("click",()=>{t.classList.add("active")})}),e(".js-swipe-block",{direction:"up",threshold:50,onSwipe:e=>{e.classList.add("swiped-up"),console.log("Swiped up on",e)}}),e(".js-swipe-block",{direction:"down",threshold:50,onSwipe:e=>{e.classList.remove("swiped-up"),console.log("Swiped down on",e)}});document.querySelectorAll(".js-r-search").forEach(e=>{let t=e.querySelector("input"),s=e.querySelector(".r-search__clear"),o=()=>{2<t.value.length?s.classList.add("active"):s.classList.remove("active")};o(),t.addEventListener("input",()=>{o()}),s.addEventListener("click",()=>{t.value="",o()})});(()=>{var e=document.querySelector(".js-header-search-mobile");let t=document.querySelector(".js-header-search-input"),s=t.querySelector("input"),o=t.querySelector(".r-search__clear"),i=document.querySelector(".r-search-dropdown");e.addEventListener("click",()=>{t.classList.add("active"),s.focus()}),o.addEventListener("click",()=>{t.classList.remove("active"),o.classList.remove("active"),i.classList.remove("active")}),r([t,e,i],()=>{t.classList.remove("active"),i.classList.remove("active")})})();{n="trackedElement",d="targetElement";var u=0;let t=document.getElementById(d),s=document.getElementById(n);if(t&&s){let e=()=>{s.getBoundingClientRect().bottom+u<=0?t.classList.add("active"):t.classList.remove("active")};e();window.addEventListener("scroll",a(()=>{e()},100))}}Fancybox.bind("[data-fancybox]",{backFocus:!1,touch:!1});document.querySelectorAll("[data-r-load-iframe]").forEach(e=>{let t=e.dataset.rLoadIframe,s=(console.log(t),e.querySelector("iframe"));var o=e.querySelector("img"),i=t.match(/[a-f0-9]{32}/);o.src=`https://rutube.ru/api/video/${i}/thumbnail/?redirect=1`,e.addEventListener("click",()=>{s.src=t+"?autoplay=1",s.onload=()=>{s.contentWindow.postMessage(JSON.stringify({type:"player:play"}),"*")}}),new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting||s.contentWindow.postMessage(JSON.stringify({type:"player:pause"}),"*")})},{threshold:.5}).observe(s)})});